// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as enums from "./types/enums";
import * as utilities from "./utilities";

/**
 * Provides a LaunchDarkly feature flag resource.
 *
 * This resource allows you to create and manage feature flags within your LaunchDarkly organization.
 *
 * > **Note:** This resource is for global-level feature flag configuration. Unexpected behavior may result if your environment-level configurations are not also managed from Terraform.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as launchdarkly from "@pulumi/launchdarkly";
 *
 * const buildingMaterials = new launchdarkly.FeatureFlag("building_materials", {
 *     projectKey: example.key,
 *     key: "building-materials",
 *     name: "Building materials",
 *     description: "this is a multivariate flag with string variations.",
 *     variationType: "string",
 *     variations: [
 *         {
 *             value: "straw",
 *             name: "Straw",
 *             description: "Watch out for wind.",
 *         },
 *         {
 *             value: "sticks",
 *             name: "Sticks",
 *             description: "Sturdier than straw",
 *         },
 *         {
 *             value: "bricks",
 *             name: "Bricks",
 *             description: "The strongest variation",
 *         },
 *     ],
 *     clientSideAvailabilities: [{
 *         usingEnvironmentId: false,
 *         usingMobileKey: true,
 *     }],
 *     defaults: {
 *         onVariation: 2,
 *         offVariation: 0,
 *     },
 *     tags: [
 *         "example",
 *         "terraform",
 *         "multivariate",
 *         "building-materials",
 *     ],
 * });
 * const jsonExample = new launchdarkly.FeatureFlag("json_example", {
 *     projectKey: "example-project",
 *     key: "json-example",
 *     name: "JSON example flag",
 *     variationType: "json",
 *     variations: [
 *         {
 *             name: "Single foo",
 *             value: JSON.stringify({
 *                 foo: "bar",
 *             }),
 *         },
 *         {
 *             name: "Multiple foos",
 *             value: JSON.stringify({
 *                 foos: [
 *                     "bar1",
 *                     "bar2",
 *                 ],
 *             }),
 *         },
 *     ],
 *     defaults: {
 *         onVariation: 1,
 *         offVariation: 0,
 *     },
 * });
 * ```
 *
 * ## Import
 *
 * Import a feature flag using the feature flag's ID in the format `project_key/flag_key`.
 *
 * ```sh
 * $ pulumi import launchdarkly:index/featureFlag:FeatureFlag building_materials example-project/building-materials
 * ```
 */
export class FeatureFlag extends pulumi.CustomResource {
    /**
     * Get an existing FeatureFlag resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: FeatureFlagState, opts?: pulumi.CustomResourceOptions): FeatureFlag {
        return new FeatureFlag(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'launchdarkly:index/featureFlag:FeatureFlag';

    /**
     * Returns true if the given object is an instance of FeatureFlag.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is FeatureFlag {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === FeatureFlag.__pulumiType;
    }

    /**
     * Specifies whether the flag is archived or not. Note that you cannot create a new flag that is archived, but can update a flag to be archived.
     */
    declare public readonly archived: pulumi.Output<boolean | undefined>;
    declare public readonly clientSideAvailabilities: pulumi.Output<outputs.FeatureFlagClientSideAvailability[]>;
    /**
     * List of nested blocks describing the feature flag's [custom properties](https://docs.launchdarkly.com/home/connecting/custom-properties)
     */
    declare public readonly customProperties: pulumi.Output<outputs.FeatureFlagCustomProperty[] | undefined>;
    /**
     * A block containing the indices of the variations to be used as the default on and off variations in all new environments. Flag configurations in existing environments will not be changed nor updated if the configuration block is removed.
     */
    declare public readonly defaults: pulumi.Output<outputs.FeatureFlagDefaults>;
    /**
     * The feature flag's description.
     */
    declare public readonly description: pulumi.Output<string | undefined>;
    /**
     * Specifies whether this flag should be made available to the client-side JavaScript SDK using the client-side Id. This value gets its default from your project configuration if not set. `includeInSnippet` is now deprecated. Please migrate to `client_side_availability.using_environment_id` to maintain future compatibility.
     *
     * @deprecated 'include_in_snippet' is now deprecated. Please migrate to 'client_side_availability' to maintain future compatability.
     */
    declare public readonly includeInSnippet: pulumi.Output<boolean>;
    /**
     * The unique feature flag key that references the flag in your application code. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    declare public readonly key: pulumi.Output<string>;
    /**
     * The feature flag maintainer's 24 character alphanumeric team member ID. `maintainerTeamKey` cannot be set if `maintainerId` is set. If neither is set, it will automatically be or stay set to the member ID associated with the API key used by your LaunchDarkly Terraform provider or the most recently-set maintainer.
     */
    declare public readonly maintainerId: pulumi.Output<string>;
    /**
     * The key of the associated team that maintains this feature flag. `maintainerId` cannot be set if `maintainerTeamKey` is set
     */
    declare public readonly maintainerTeamKey: pulumi.Output<string>;
    /**
     * The human-readable name of the feature flag.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * The feature flag's project key. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    declare public readonly projectKey: pulumi.Output<string>;
    /**
     * Tags associated with your resource.
     */
    declare public readonly tags: pulumi.Output<string[] | undefined>;
    /**
     * Specifies whether the flag is a temporary flag.
     */
    declare public readonly temporary: pulumi.Output<boolean | undefined>;
    /**
     * The feature flag's variation type: `boolean`, `string`, `number` or `json`. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    declare public readonly variationType: pulumi.Output<string>;
    /**
     * An array of possible variations for the flag
     */
    declare public readonly variations: pulumi.Output<outputs.FeatureFlagVariation[]>;

    /**
     * Create a FeatureFlag resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: FeatureFlagArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: FeatureFlagArgs | FeatureFlagState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as FeatureFlagState | undefined;
            resourceInputs["archived"] = state?.archived;
            resourceInputs["clientSideAvailabilities"] = state?.clientSideAvailabilities;
            resourceInputs["customProperties"] = state?.customProperties;
            resourceInputs["defaults"] = state?.defaults;
            resourceInputs["description"] = state?.description;
            resourceInputs["includeInSnippet"] = state?.includeInSnippet;
            resourceInputs["key"] = state?.key;
            resourceInputs["maintainerId"] = state?.maintainerId;
            resourceInputs["maintainerTeamKey"] = state?.maintainerTeamKey;
            resourceInputs["name"] = state?.name;
            resourceInputs["projectKey"] = state?.projectKey;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["temporary"] = state?.temporary;
            resourceInputs["variationType"] = state?.variationType;
            resourceInputs["variations"] = state?.variations;
        } else {
            const args = argsOrState as FeatureFlagArgs | undefined;
            if (args?.key === undefined && !opts.urn) {
                throw new Error("Missing required property 'key'");
            }
            if (args?.projectKey === undefined && !opts.urn) {
                throw new Error("Missing required property 'projectKey'");
            }
            if (args?.variationType === undefined && !opts.urn) {
                throw new Error("Missing required property 'variationType'");
            }
            resourceInputs["archived"] = args?.archived;
            resourceInputs["clientSideAvailabilities"] = args?.clientSideAvailabilities;
            resourceInputs["customProperties"] = args?.customProperties;
            resourceInputs["defaults"] = args?.defaults;
            resourceInputs["description"] = args?.description;
            resourceInputs["includeInSnippet"] = args?.includeInSnippet;
            resourceInputs["key"] = args?.key;
            resourceInputs["maintainerId"] = args?.maintainerId;
            resourceInputs["maintainerTeamKey"] = args?.maintainerTeamKey;
            resourceInputs["name"] = args?.name;
            resourceInputs["projectKey"] = args?.projectKey;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["temporary"] = args?.temporary;
            resourceInputs["variationType"] = args?.variationType;
            resourceInputs["variations"] = args?.variations;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(FeatureFlag.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering FeatureFlag resources.
 */
export interface FeatureFlagState {
    /**
     * Specifies whether the flag is archived or not. Note that you cannot create a new flag that is archived, but can update a flag to be archived.
     */
    archived?: pulumi.Input<boolean>;
    clientSideAvailabilities?: pulumi.Input<pulumi.Input<inputs.FeatureFlagClientSideAvailability>[]>;
    /**
     * List of nested blocks describing the feature flag's [custom properties](https://docs.launchdarkly.com/home/connecting/custom-properties)
     */
    customProperties?: pulumi.Input<pulumi.Input<inputs.FeatureFlagCustomProperty>[]>;
    /**
     * A block containing the indices of the variations to be used as the default on and off variations in all new environments. Flag configurations in existing environments will not be changed nor updated if the configuration block is removed.
     */
    defaults?: pulumi.Input<inputs.FeatureFlagDefaults>;
    /**
     * The feature flag's description.
     */
    description?: pulumi.Input<string>;
    /**
     * Specifies whether this flag should be made available to the client-side JavaScript SDK using the client-side Id. This value gets its default from your project configuration if not set. `includeInSnippet` is now deprecated. Please migrate to `client_side_availability.using_environment_id` to maintain future compatibility.
     *
     * @deprecated 'include_in_snippet' is now deprecated. Please migrate to 'client_side_availability' to maintain future compatability.
     */
    includeInSnippet?: pulumi.Input<boolean>;
    /**
     * The unique feature flag key that references the flag in your application code. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    key?: pulumi.Input<string>;
    /**
     * The feature flag maintainer's 24 character alphanumeric team member ID. `maintainerTeamKey` cannot be set if `maintainerId` is set. If neither is set, it will automatically be or stay set to the member ID associated with the API key used by your LaunchDarkly Terraform provider or the most recently-set maintainer.
     */
    maintainerId?: pulumi.Input<string>;
    /**
     * The key of the associated team that maintains this feature flag. `maintainerId` cannot be set if `maintainerTeamKey` is set
     */
    maintainerTeamKey?: pulumi.Input<string>;
    /**
     * The human-readable name of the feature flag.
     */
    name?: pulumi.Input<string>;
    /**
     * The feature flag's project key. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    projectKey?: pulumi.Input<string>;
    /**
     * Tags associated with your resource.
     */
    tags?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies whether the flag is a temporary flag.
     */
    temporary?: pulumi.Input<boolean>;
    /**
     * The feature flag's variation type: `boolean`, `string`, `number` or `json`. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    variationType?: pulumi.Input<string>;
    /**
     * An array of possible variations for the flag
     */
    variations?: pulumi.Input<pulumi.Input<inputs.FeatureFlagVariation>[]>;
}

/**
 * The set of arguments for constructing a FeatureFlag resource.
 */
export interface FeatureFlagArgs {
    /**
     * Specifies whether the flag is archived or not. Note that you cannot create a new flag that is archived, but can update a flag to be archived.
     */
    archived?: pulumi.Input<boolean>;
    clientSideAvailabilities?: pulumi.Input<pulumi.Input<inputs.FeatureFlagClientSideAvailability>[]>;
    /**
     * List of nested blocks describing the feature flag's [custom properties](https://docs.launchdarkly.com/home/connecting/custom-properties)
     */
    customProperties?: pulumi.Input<pulumi.Input<inputs.FeatureFlagCustomProperty>[]>;
    /**
     * A block containing the indices of the variations to be used as the default on and off variations in all new environments. Flag configurations in existing environments will not be changed nor updated if the configuration block is removed.
     */
    defaults?: pulumi.Input<inputs.FeatureFlagDefaults>;
    /**
     * The feature flag's description.
     */
    description?: pulumi.Input<string>;
    /**
     * Specifies whether this flag should be made available to the client-side JavaScript SDK using the client-side Id. This value gets its default from your project configuration if not set. `includeInSnippet` is now deprecated. Please migrate to `client_side_availability.using_environment_id` to maintain future compatibility.
     *
     * @deprecated 'include_in_snippet' is now deprecated. Please migrate to 'client_side_availability' to maintain future compatability.
     */
    includeInSnippet?: pulumi.Input<boolean>;
    /**
     * The unique feature flag key that references the flag in your application code. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    key: pulumi.Input<string>;
    /**
     * The feature flag maintainer's 24 character alphanumeric team member ID. `maintainerTeamKey` cannot be set if `maintainerId` is set. If neither is set, it will automatically be or stay set to the member ID associated with the API key used by your LaunchDarkly Terraform provider or the most recently-set maintainer.
     */
    maintainerId?: pulumi.Input<string>;
    /**
     * The key of the associated team that maintains this feature flag. `maintainerId` cannot be set if `maintainerTeamKey` is set
     */
    maintainerTeamKey?: pulumi.Input<string>;
    /**
     * The human-readable name of the feature flag.
     */
    name?: pulumi.Input<string>;
    /**
     * The feature flag's project key. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    projectKey: pulumi.Input<string>;
    /**
     * Tags associated with your resource.
     */
    tags?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies whether the flag is a temporary flag.
     */
    temporary?: pulumi.Input<boolean>;
    /**
     * The feature flag's variation type: `boolean`, `string`, `number` or `json`. A change in this field will force the destruction of the existing resource and the creation of a new one.
     */
    variationType: pulumi.Input<string>;
    /**
     * An array of possible variations for the flag
     */
    variations?: pulumi.Input<pulumi.Input<inputs.FeatureFlagVariation>[]>;
}
